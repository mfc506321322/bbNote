### 1.浏览器端发起HTTP请求流程

#### 1.构建请求

首先，浏览器构建请求行信息，构建好后，浏览器准备发起网络请求

#### 2.查找缓存

发起真正网络请求之前，浏览器会先在浏览器缓存中查询是否有要请求的文件。其中，浏览器缓存是一种在本地保存资源副本，以共下次请求时直接使用的技术

#### 3.准备IP地址和端口

第一步浏览器会请求 DNS 返回域名对应的 IP

> 当然浏览器还提供了 DNS 数据缓存服务，如果某个域名已经解析过了，那么浏览器会缓存解析的结果，以供下次查询时直接使用，这样也会减少一次网络请求。

URL不指明端口号，HTTP默认80端口

#### 4.等待TCP队列

Chrome有机制，同一域名最多只能建立6个TCP链接，超过的则会排队等待。

#### 5.建立TCP链接

#### 6.发送HTTP请求

### 2.服务器端处理HTTP请求流程

#### 1.返回请求

![image-20201222230532920](../../../image/image-20201222230532920.png)

#### 2.断开链接

通常情况下，一旦服务器向客户端返回了请求数据，它就要关闭 TCP 连接。不过如果浏览器或者服务器在其头信息中加入了：`Connection:Keep-Alive`

那么 TCP 连接在发送后将仍然保持打开状态，这样浏览器就可以继续通过同一个 TCP 连接发送请求。保持 TCP 连接可以省去下次请求时需要建立连接的时间，提升资源加载速度。

#### 3.重定向

